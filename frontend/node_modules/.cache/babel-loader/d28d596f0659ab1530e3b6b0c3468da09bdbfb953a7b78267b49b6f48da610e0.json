{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fusyr\\\\OneDrive\\\\Documenti\\\\Riccardo\\\\Self Programming\\\\movie-reviews\\\\frontend\\\\src\\\\components\\\\movie.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport MovieDataService from \"../services/movies\";\nimport { Link } from \"react-router-dom\";\nimport Card from \"react-bootstrap/Card\";\nimport Container from \"react-bootstrap/Container\";\nimport Image from \"react-bootstrap/Image\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Button from \"react-bootstrap/Button\";\nimport Media from \"react-bootstrap/Media\";\nimport moment from \"moment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Movie = props => {\n  _s();\n  const [movie, setMovie] = useState({\n    id: null,\n    title: \"\",\n    rated: \"\",\n    reviews: []\n  });\n  const getMovie = id => {\n    MovieDataService.get(id).then(response => {\n      setMovie(response.data);\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n  useEffect(() => {\n    getMovie(props.match.params.id);\n  }, [props.match.params.id]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: movie.poster + \"/100px250\",\n            fluid: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              as: \"h5\",\n              children: movie.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Text, {\n                children: movie.plot\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 17\n              }, this), props.user && /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/movies/\" + props.match.params.id + \"/review\",\n                children: \"Add Review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), movie.reviews.map((review, index) => {\n            return /*#__PURE__*/_jsxDEV(Media, {\n              children: /*#__PURE__*/_jsxDEV(Media.Body, {\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: [review.name + \" reviewed on \", moment(review.date).format(\"Do MMMM YYYY\")]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: review.review\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 21\n                }, this), props.user && props.user.id === review.user_id && /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: {\n                        pathname: \"/movies/\" + props.match.params.id + \"/review\",\n                        state: {\n                          currentReview: review\n                        }\n                      },\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 70,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"link\",\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 81,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 19\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(Movie, \"Oxdh7B5xWZ/ju6UywsBvbv2M9eE=\");\n_c = Movie;\nexport default Movie;\nvar _c;\n$RefreshReg$(_c, \"Movie\");","map":{"version":3,"names":["React","useState","useEffect","MovieDataService","Link","Card","Container","Image","Col","Row","Button","Media","moment","jsxDEV","_jsxDEV","Movie","props","_s","movie","setMovie","id","title","rated","reviews","getMovie","get","then","response","data","console","log","catch","e","match","params","children","src","poster","fluid","fileName","_jsxFileName","lineNumber","columnNumber","Header","as","Body","Text","plot","user","to","map","review","index","name","date","format","user_id","pathname","state","currentReview","variant","_c","$RefreshReg$"],"sources":["C:/Users/fusyr/OneDrive/Documenti/Riccardo/Self Programming/movie-reviews/frontend/src/components/movie.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport MovieDataService from \"../services/movies\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Media from \"react-bootstrap/Media\";\r\nimport moment from \"moment\";\r\n\r\nconst Movie = (props) => {\r\n  const [movie, setMovie] = useState({\r\n    id: null,\r\n    title: \"\",\r\n    rated: \"\",\r\n    reviews: [],\r\n  });\r\n\r\n  const getMovie = (id) => {\r\n    MovieDataService.get(id)\r\n      .then((response) => {\r\n        setMovie(response.data);\r\n        console.log(response.data);\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getMovie(props.match.params.id);\r\n  }, [props.match.params.id]);\r\n\r\n  return (\r\n    <div>\r\n      <Container>\r\n        <Row>\r\n          <Col>\r\n            <Image src={movie.poster + \"/100px250\"} fluid></Image>\r\n          </Col>\r\n          <Col>\r\n            <Card>\r\n              <Card.Header as=\"h5\">{movie.title}</Card.Header>\r\n              <Card.Body>\r\n                <Card.Text>{movie.plot}</Card.Text>\r\n                {props.user && (\r\n                  <Link to={\"/movies/\" + props.match.params.id + \"/review\"}>\r\n                    Add Review\r\n                  </Link>\r\n                )}\r\n              </Card.Body>\r\n            </Card>\r\n            <br></br>\r\n            <h2>Reviews</h2>\r\n            <br></br>\r\n            {movie.reviews.map((review, index) => {\r\n              return (\r\n                <Media key={index}>\r\n                  <Media.Body>\r\n                    <h5>\r\n                      {review.name + \" reviewed on \"}\r\n                      {moment(review.date).format(\"Do MMMM YYYY\")}\r\n                    </h5>\r\n                    <p>{review.review}</p>\r\n                    {props.user && props.user.id === review.user_id && (\r\n                      <Row>\r\n                        <Col>\r\n                          <Link\r\n                            to={{\r\n                              pathname:\r\n                                \"/movies/\" + props.match.params.id + \"/review\",\r\n                              state: { currentReview: review },\r\n                            }}\r\n                          >\r\n                            Edit\r\n                          </Link>\r\n                        </Col>\r\n                        <Col>\r\n                          <Button variant=\"link\">Delete</Button>\r\n                        </Col>\r\n                      </Row>\r\n                    )}\r\n                  </Media.Body>\r\n                </Media>\r\n              );\r\n            })}\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Movie;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}